<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MP-Gadget: libgadget/winds.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MP-Gadget
   &#160;<span id="projectnumber">5.0.1.dev1-76bc7d4726-dirty</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8db5bc7a24c620673ff2e44953ca6f6c.html">libgadget</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">winds.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="forcetree_8h_source.html">forcetree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="paramset_8h_source.html">utils/paramset.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for winds.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h__incl.svg" width="1912" height="635"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h__dep__incl.svg" width="1324" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="winds_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a275837498e7e8b8ca0d4f2b8a311065f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065f">WindModel</a> { <br />
&#160;&#160;<a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a> = 1
, <a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fad751afdc5a9e135d3f49ee98ba3690f5">WIND_DECOUPLE_SPH</a> = 2
, <a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065faa0ea3e5816fe60d7cb476a69a12fa7fe">WIND_USE_HALO</a> = 4
, <a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa89c8c97bc437bacde06cb9d494e0c911">WIND_FIXED_EFFICIENCY</a> = 8
, <br />
&#160;&#160;<a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa2f2cc93a7198c14a022bdc0938c3f664">WIND_ISOTROPIC</a> = 512
<br />
 }</td></tr>
<tr class="separator:a275837498e7e8b8ca0d4f2b8a311065f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a812fba9bbd2367ee0de1a0312bf0c5b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a812fba9bbd2367ee0de1a0312bf0c5b3">set_winds_params</a> (<a class="el" href="structParameterSet.html">ParameterSet</a> *ps)</td></tr>
<tr class="separator:a812fba9bbd2367ee0de1a0312bf0c5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d7ddd5775b76d4edc8efd44afd25ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#af3d7ddd5775b76d4edc8efd44afd25ae">init_winds</a> (double FactorSN, double EgySpecSN, double PhysDensThresh, double UnitTime_in_s)</td></tr>
<tr class="separator:af3d7ddd5775b76d4edc8efd44afd25ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274ae45443daff42b91d384c64105010"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a274ae45443daff42b91d384c64105010">winds_evolve</a> (int i, double a3inv, double hubble)</td></tr>
<tr class="separator:a274ae45443daff42b91d384c64105010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbf19ca865e66f66ff2402b7dde8de6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#addbf19ca865e66f66ff2402b7dde8de6">winds_and_feedback</a> (int *NewStars, int NumNewStars, const double Time, const double hubble, <a class="el" href="structForceTree.html">ForceTree</a> *tree)</td></tr>
<tr class="separator:addbf19ca865e66f66ff2402b7dde8de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa222abd429c8ee6138143c00a20c234"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#aaa222abd429c8ee6138143c00a20c234">winds_make_after_sf</a> (int i, double sm, double vdisp, double atime)</td></tr>
<tr class="separator:aaa222abd429c8ee6138143c00a20c234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb5d8c3051470cd229593554b0fd1e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a2cb5d8c3051470cd229593554b0fd1e8">winds_subgrid</a> (int *MaybeWind, int NumMaybeWind, const double Time, const double hubble, <a class="el" href="structForceTree.html">ForceTree</a> *tree, <a class="el" href="types_8h.html#af1ada7381a1118c6d51bdbb0b5e72811">MyFloat</a> *StellarMasses)</td></tr>
<tr class="separator:a2cb5d8c3051470cd229593554b0fd1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6b62046c0e4f5fe9e0a7bb0be65ddc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a7a6b62046c0e4f5fe9e0a7bb0be65ddc">winds_are_subgrid</a> (void)</td></tr>
<tr class="separator:a7a6b62046c0e4f5fe9e0a7bb0be65ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70bfb30aee1a43686ccfd216080d84ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a70bfb30aee1a43686ccfd216080d84ff">winds_is_particle_decoupled</a> (int i)</td></tr>
<tr class="separator:a70bfb30aee1a43686ccfd216080d84ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad29a59ac7bdc2a379e5a0f35c148e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a9ad29a59ac7bdc2a379e5a0f35c148e3">winds_decoupled_hydro</a> (int i, double atime)</td></tr>
<tr class="separator:a9ad29a59ac7bdc2a379e5a0f35c148e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dec995c354a20b6087103ff30928571"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="winds_8h.html#a4dec995c354a20b6087103ff30928571">winds_ever_decouple</a> (void)</td></tr>
<tr class="separator:a4dec995c354a20b6087103ff30928571"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a275837498e7e8b8ca0d4f2b8a311065f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a275837498e7e8b8ca0d4f2b8a311065f">&#9670;&nbsp;</a></span>WindModel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065f">WindModel</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72"></a>WIND_SUBGRID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a275837498e7e8b8ca0d4f2b8a311065fad751afdc5a9e135d3f49ee98ba3690f5"></a>WIND_DECOUPLE_SPH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a275837498e7e8b8ca0d4f2b8a311065faa0ea3e5816fe60d7cb476a69a12fa7fe"></a>WIND_USE_HALO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a275837498e7e8b8ca0d4f2b8a311065fa89c8c97bc437bacde06cb9d494e0c911"></a>WIND_FIXED_EFFICIENCY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a275837498e7e8b8ca0d4f2b8a311065fa2f2cc93a7198c14a022bdc0938c3f664"></a>WIND_ISOTROPIC&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="winds_8h_source.html#l00012">12</a> of file <a class="el" href="winds_8h_source.html">winds.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;               {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a> = 1,<span class="comment">/* If this is true, winds are spawned from the star forming gas.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">                      * If false, they are spawned from neighbours of the star particle.*/</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fad751afdc5a9e135d3f49ee98ba3690f5">WIND_DECOUPLE_SPH</a> = 2,<span class="comment">/* Specifies that wind particles are created temporarily decoupled from the gas dynamics */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065faa0ea3e5816fe60d7cb476a69a12fa7fe">WIND_USE_HALO</a> = 4,<span class="comment">/* Wind speeds depend on the halo circular velocity*/</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa89c8c97bc437bacde06cb9d494e0c911">WIND_FIXED_EFFICIENCY</a> = 8, <span class="comment">/* Winds have a fixed efficiency and thus fixed wind speed*/</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa2f2cc93a7198c14a022bdc0938c3f664">WIND_ISOTROPIC</a> = 512, <span class="comment">/* Has no effect: only isotropic winds are implemented*/</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;};</div>
<div class="ttc" id="awinds_8h_html_a275837498e7e8b8ca0d4f2b8a311065fa2f2cc93a7198c14a022bdc0938c3f664"><div class="ttname"><a href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa2f2cc93a7198c14a022bdc0938c3f664">WIND_ISOTROPIC</a></div><div class="ttdeci">@ WIND_ISOTROPIC</div><div class="ttdef"><b>Definition:</b> <a href="winds_8h_source.html#l00018">winds.h:18</a></div></div>
<div class="ttc" id="awinds_8h_html_a275837498e7e8b8ca0d4f2b8a311065fa89c8c97bc437bacde06cb9d494e0c911"><div class="ttname"><a href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa89c8c97bc437bacde06cb9d494e0c911">WIND_FIXED_EFFICIENCY</a></div><div class="ttdeci">@ WIND_FIXED_EFFICIENCY</div><div class="ttdef"><b>Definition:</b> <a href="winds_8h_source.html#l00017">winds.h:17</a></div></div>
<div class="ttc" id="awinds_8h_html_a275837498e7e8b8ca0d4f2b8a311065faa0ea3e5816fe60d7cb476a69a12fa7fe"><div class="ttname"><a href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065faa0ea3e5816fe60d7cb476a69a12fa7fe">WIND_USE_HALO</a></div><div class="ttdeci">@ WIND_USE_HALO</div><div class="ttdef"><b>Definition:</b> <a href="winds_8h_source.html#l00016">winds.h:16</a></div></div>
<div class="ttc" id="awinds_8h_html_a275837498e7e8b8ca0d4f2b8a311065fad751afdc5a9e135d3f49ee98ba3690f5"><div class="ttname"><a href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fad751afdc5a9e135d3f49ee98ba3690f5">WIND_DECOUPLE_SPH</a></div><div class="ttdeci">@ WIND_DECOUPLE_SPH</div><div class="ttdef"><b>Definition:</b> <a href="winds_8h_source.html#l00015">winds.h:15</a></div></div>
<div class="ttc" id="awinds_8h_html_a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72"><div class="ttname"><a href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a></div><div class="ttdeci">@ WIND_SUBGRID</div><div class="ttdef"><b>Definition:</b> <a href="winds_8h_source.html#l00013">winds.h:13</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af3d7ddd5775b76d4edc8efd44afd25ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d7ddd5775b76d4edc8efd44afd25ae">&#9670;&nbsp;</a></span>init_winds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_winds </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>FactorSN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>EgySpecSN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>PhysDensThresh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>UnitTime_in_s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00097">97</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#ac981d7db5d86d4e0543a2ccbb3b8e8dc">WindSpeed</a> = sqrt(2 * <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a13b80d96dbad35c1ef9471035d5c323b">WindEnergyFraction</a> * FactorSN * EgySpecSN / (1 - FactorSN));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">/* Convert wind free travel time from Myr to internal units*/</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a> = <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a> * <a class="code" href="physconst_8h.html#af2bfce8e844bbb3b120263471c6c329e">SEC_PER_MEGAYEAR</a> / UnitTime_in_s;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a117cf9d273462df5e67d40818abb249f">WindFreeTravelDensThresh</a> = <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#af27402413742879e7bc36af70ddf2e9e">WindFreeTravelDensFac</a> * PhysDensThresh;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fa89c8c97bc437bacde06cb9d494e0c911">WIND_FIXED_EFFICIENCY</a>)) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#ac981d7db5d86d4e0543a2ccbb3b8e8dc">WindSpeed</a> /= sqrt(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a1f7b5f84f592ad473fc231dea027d88b">WindEfficiency</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Windspeed: %g MaxDelay %g\n&quot;</span>, <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#ac981d7db5d86d4e0543a2ccbb3b8e8dc">WindSpeed</a>, <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065faa0ea3e5816fe60d7cb476a69a12fa7fe">WIND_USE_HALO</a>)) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Reference Windspeed: %g, MaxDelay %g\n&quot;</span>, <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#aed366294ba7b5f4d2c5a7800f47233d4">WindSigma0</a> * <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a75389ec47bfe6c9ac76b47dc7a72c371">WindSpeedFactor</a>, <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">/* Check for undefined wind models*/</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(1, <span class="stringliteral">&quot;WindModel = 0x%X is strange. This shall not happen.\n&quot;</span>, <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="aendrun_8c_html_a6567cd867c5549fb6586e19ccd819764"><div class="ttname"><a href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a></div><div class="ttdeci">void message(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00175">endrun.c:175</a></div></div>
<div class="ttc" id="aendrun_8c_html_ad963d7efdb9f10f7a2298c8ccd222ab0"><div class="ttname"><a href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a></div><div class="ttdeci">void endrun(int where, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="endrun_8c_source.html#l00147">endrun.c:147</a></div></div>
<div class="ttc" id="aphysconst_8h_html_af2bfce8e844bbb3b120263471c6c329e"><div class="ttname"><a href="physconst_8h.html#af2bfce8e844bbb3b120263471c6c329e">SEC_PER_MEGAYEAR</a></div><div class="ttdeci">#define SEC_PER_MEGAYEAR</div><div class="ttdef"><b>Definition:</b> <a href="physconst_8h_source.html#l00031">physconst.h:31</a></div></div>
<div class="ttc" id="astructWindParams_html_a117cf9d273462df5e67d40818abb249f"><div class="ttname"><a href="structWindParams.html#a117cf9d273462df5e67d40818abb249f">WindParams::WindFreeTravelDensThresh</a></div><div class="ttdeci">double WindFreeTravelDensThresh</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00022">winds.c:22</a></div></div>
<div class="ttc" id="astructWindParams_html_a13b80d96dbad35c1ef9471035d5c323b"><div class="ttname"><a href="structWindParams.html#a13b80d96dbad35c1ef9471035d5c323b">WindParams::WindEnergyFraction</a></div><div class="ttdeci">double WindEnergyFraction</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00028">winds.c:28</a></div></div>
<div class="ttc" id="astructWindParams_html_a1f7b5f84f592ad473fc231dea027d88b"><div class="ttname"><a href="structWindParams.html#a1f7b5f84f592ad473fc231dea027d88b">WindParams::WindEfficiency</a></div><div class="ttdeci">double WindEfficiency</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00026">winds.c:26</a></div></div>
<div class="ttc" id="astructWindParams_html_a75389ec47bfe6c9ac76b47dc7a72c371"><div class="ttname"><a href="structWindParams.html#a75389ec47bfe6c9ac76b47dc7a72c371">WindParams::WindSpeedFactor</a></div><div class="ttdeci">double WindSpeedFactor</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00031">winds.c:31</a></div></div>
<div class="ttc" id="astructWindParams_html_a8a39c99e5adc55800fb1a154f0e7d4f0"><div class="ttname"><a href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindParams::WindModel</a></div><div class="ttdeci">enum WindModel WindModel</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00708">winds.c:18</a></div></div>
<div class="ttc" id="astructWindParams_html_ac981d7db5d86d4e0543a2ccbb3b8e8dc"><div class="ttname"><a href="structWindParams.html#ac981d7db5d86d4e0543a2ccbb3b8e8dc">WindParams::WindSpeed</a></div><div class="ttdeci">double WindSpeed</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00027">winds.c:27</a></div></div>
<div class="ttc" id="astructWindParams_html_aed366294ba7b5f4d2c5a7800f47233d4"><div class="ttname"><a href="structWindParams.html#aed366294ba7b5f4d2c5a7800f47233d4">WindParams::WindSigma0</a></div><div class="ttdeci">double WindSigma0</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00030">winds.c:30</a></div></div>
<div class="ttc" id="astructWindParams_html_af27402413742879e7bc36af70ddf2e9e"><div class="ttname"><a href="structWindParams.html#af27402413742879e7bc36af70ddf2e9e">WindParams::WindFreeTravelDensFac</a></div><div class="ttdeci">double WindFreeTravelDensFac</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00020">winds.c:20</a></div></div>
<div class="ttc" id="astructWindParams_html_afc33c1b4016a3240fd3330fe82cf1919"><div class="ttname"><a href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">WindParams::MaxWindFreeTravelTime</a></div><div class="ttdeci">double MaxWindFreeTravelTime</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00024">winds.c:24</a></div></div>
<div class="ttc" id="atypes_8h_html_aae268cff368c829e32ef0a52ee731bd6"><div class="ttname"><a href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a></div><div class="ttdeci">#define HAS(val, flag)</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00022">types.h:22</a></div></div>
<div class="ttc" id="awinds_8c_html_a8a727eb1f91a8add9b78622eee74b155"><div class="ttname"><a href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a></div><div class="ttdeci">static struct WindParams wind_params</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="endrun_8c_source.html#l00147">endrun()</a>, <a class="el" href="types_8h_source.html#l00022">HAS</a>, <a class="el" href="winds_8c_source.html#l00024">WindParams::MaxWindFreeTravelTime</a>, <a class="el" href="endrun_8c_source.html#l00175">message()</a>, <a class="el" href="physconst_8h_source.html#l00031">SEC_PER_MEGAYEAR</a>, <a class="el" href="winds_8h_source.html#l00017">WIND_FIXED_EFFICIENCY</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <a class="el" href="winds_8h_source.html#l00016">WIND_USE_HALO</a>, <a class="el" href="winds_8c_source.html#l00026">WindParams::WindEfficiency</a>, <a class="el" href="winds_8c_source.html#l00028">WindParams::WindEnergyFraction</a>, <a class="el" href="winds_8c_source.html#l00020">WindParams::WindFreeTravelDensFac</a>, <a class="el" href="winds_8c_source.html#l00022">WindParams::WindFreeTravelDensThresh</a>, <a class="el" href="winds_8c_source.html#l00018">WindParams::WindModel</a>, <a class="el" href="winds_8c_source.html#l00030">WindParams::WindSigma0</a>, <a class="el" href="winds_8c_source.html#l00027">WindParams::WindSpeed</a>, and <a class="el" href="winds_8c_source.html#l00031">WindParams::WindSpeedFactor</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00805">init_cooling_and_star_formation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_af3d7ddd5775b76d4edc8efd44afd25ae_cgraph.svg" width="518" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_af3d7ddd5775b76d4edc8efd44afd25ae_icgraph.svg" width="524" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a812fba9bbd2367ee0de1a0312bf0c5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a812fba9bbd2367ee0de1a0312bf0c5b3">&#9670;&nbsp;</a></span>set_winds_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_winds_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structParameterSet.html">ParameterSet</a> *&#160;</td>
          <td class="paramname"><em>ps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00072">72</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="test__exchange_8c.html#a52c8c7d2abff436111942e02c5bb466a">ThisTask</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    MPI_Comm_rank(MPI_COMM_WORLD, &amp;<a class="code" href="test__exchange_8c.html#a52c8c7d2abff436111942e02c5bb466a">ThisTask</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="test__exchange_8c.html#a52c8c7d2abff436111942e02c5bb466a">ThisTask</a> == 0) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">/*Wind model parameters*/</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a> = (<span class="keyword">enum</span> <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065f">WindModel</a>) <a class="code" href="paramset_8c.html#abcc62489086c3bb14a61b90765e8d706">param_get_enum</a>(ps, <span class="stringliteral">&quot;WindModel&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment">/* The following two are for VS08 and SH03*/</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a1f7b5f84f592ad473fc231dea027d88b">WindEfficiency</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindEfficiency&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a13b80d96dbad35c1ef9471035d5c323b">WindEnergyFraction</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindEnergyFraction&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="comment">/* The following two are for OFJT10*/</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#aed366294ba7b5f4d2c5a7800f47233d4">WindSigma0</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindSigma0&quot;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a75389ec47bfe6c9ac76b47dc7a72c371">WindSpeedFactor</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindSpeedFactor&quot;</span>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a802a805a792caa973972f7874e5c3612">WindThermalFactor</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindThermalFactor&quot;</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#aeebe526cc8a5c8748aad18baad964464">MinWindVelocity</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;MinWindVelocity&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;MaxWindFreeTravelTime&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a97eba060279e0c10a87ce8f831ac406d">WindFreeTravelLength</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindFreeTravelLength&quot;</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#af27402413742879e7bc36af70ddf2e9e">WindFreeTravelDensFac</a> = <a class="code" href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a>(ps, <span class="stringliteral">&quot;WindFreeTravelDensFac&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    MPI_Bcast(&amp;<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structWindParams.html">WindParams</a>), MPI_BYTE, 0, MPI_COMM_WORLD);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="ttc" id="aparamset_8c_html_a1ae36a31d95a8e2a9d2812bb9ecc9d49"><div class="ttname"><a href="paramset_8c.html#a1ae36a31d95a8e2a9d2812bb9ecc9d49">param_get_double</a></div><div class="ttdeci">double param_get_double(ParameterSet *ps, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="paramset_8c_source.html#l00336">paramset.c:336</a></div></div>
<div class="ttc" id="aparamset_8c_html_abcc62489086c3bb14a61b90765e8d706"><div class="ttname"><a href="paramset_8c.html#abcc62489086c3bb14a61b90765e8d706">param_get_enum</a></div><div class="ttdeci">int param_get_enum(ParameterSet *ps, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="paramset_8c_source.html#l00378">paramset.c:378</a></div></div>
<div class="ttc" id="astructWindParams_html"><div class="ttname"><a href="structWindParams.html">WindParams</a></div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00016">winds.c:17</a></div></div>
<div class="ttc" id="astructWindParams_html_a802a805a792caa973972f7874e5c3612"><div class="ttname"><a href="structWindParams.html#a802a805a792caa973972f7874e5c3612">WindParams::WindThermalFactor</a></div><div class="ttdeci">double WindThermalFactor</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00035">winds.c:35</a></div></div>
<div class="ttc" id="astructWindParams_html_a97eba060279e0c10a87ce8f831ac406d"><div class="ttname"><a href="structWindParams.html#a97eba060279e0c10a87ce8f831ac406d">WindParams::WindFreeTravelLength</a></div><div class="ttdeci">double WindFreeTravelLength</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00019">winds.c:19</a></div></div>
<div class="ttc" id="astructWindParams_html_aeebe526cc8a5c8748aad18baad964464"><div class="ttname"><a href="structWindParams.html#aeebe526cc8a5c8748aad18baad964464">WindParams::MinWindVelocity</a></div><div class="ttdeci">double MinWindVelocity</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00033">winds.c:33</a></div></div>
<div class="ttc" id="atest__exchange_8c_html_a52c8c7d2abff436111942e02c5bb466a"><div class="ttname"><a href="test__exchange_8c.html#a52c8c7d2abff436111942e02c5bb466a">ThisTask</a></div><div class="ttdeci">int ThisTask</div><div class="ttdef"><b>Definition:</b> <a href="test__exchange_8c_source.html#l00023">test_exchange.c:23</a></div></div>
<div class="ttc" id="awinds_8h_html_a275837498e7e8b8ca0d4f2b8a311065f"><div class="ttname"><a href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065f">WindModel</a></div><div class="ttdeci">WindModel</div><div class="ttdef"><b>Definition:</b> <a href="winds_8h_source.html#l00012">winds.h:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="winds_8c_source.html#l00024">WindParams::MaxWindFreeTravelTime</a>, <a class="el" href="winds_8c_source.html#l00033">WindParams::MinWindVelocity</a>, <a class="el" href="paramset_8c_source.html#l00336">param_get_double()</a>, <a class="el" href="paramset_8c_source.html#l00378">param_get_enum()</a>, <a class="el" href="test__exchange_8c_source.html#l00023">ThisTask</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <a class="el" href="winds_8c_source.html#l00026">WindParams::WindEfficiency</a>, <a class="el" href="winds_8c_source.html#l00028">WindParams::WindEnergyFraction</a>, <a class="el" href="winds_8c_source.html#l00020">WindParams::WindFreeTravelDensFac</a>, <a class="el" href="winds_8c_source.html#l00019">WindParams::WindFreeTravelLength</a>, <a class="el" href="winds_8c_source.html#l00018">WindParams::WindModel</a>, <a class="el" href="winds_8c_source.html#l00030">WindParams::WindSigma0</a>, <a class="el" href="winds_8c_source.html#l00031">WindParams::WindSpeedFactor</a>, and <a class="el" href="winds_8c_source.html#l00035">WindParams::WindThermalFactor</a>.</p>

<p class="reference">Referenced by <a class="el" href="gadget_2params_8c_source.html#l00359">read_parameter_file()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a812fba9bbd2367ee0de1a0312bf0c5b3_cgraph.svg" width="811" height="130"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a812fba9bbd2367ee0de1a0312bf0c5b3_icgraph.svg" width="458" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="addbf19ca865e66f66ff2402b7dde8de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addbf19ca865e66f66ff2402b7dde8de6">&#9670;&nbsp;</a></span>winds_and_feedback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void winds_and_feedback </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>NewStars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NumNewStars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>hubble</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structForceTree.html">ForceTree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00333">333</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">/*The subgrid model does nothing here*/</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a>))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="system_8c.html#ade2741449d03e719e2e91a6e511e07a4">MPIU_Any</a>(NumNewStars &gt; 0, MPI_COMM_WORLD))</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="structTreeWalk.html">TreeWalk</a> tw[1] = {{0}};</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">struct </span><a class="code" href="structWindPriv.html">WindPriv</a> priv[1];</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="winds_8c.html#ada438f91fe37bf38ff3b49a86ef5528e">winds_find_weights</a>(tw, priv, NewStars, NumNewStars, <a class="code" href="structWindPriv.html#ad7a7aefbebd90464a61ac147f26760d1">Time</a>, <a class="code" href="structWindPriv.html#a667f9313ab9c9350ecab38b5c6f0595c">hubble</a>, tree);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt; omp_get_max_threads(); i++)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        priv-&gt;nvisited[0] += priv-&gt;nvisited[i];</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    priv-&gt;maxkicks = priv-&gt;nvisited[0]+2;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">/* Some particles may be kicked by multiple stars on the same timestep.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    * To ensure this happens only once and does not depend on the order in</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">    * which the loops are executed, particles are kicked by the nearest new star.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">    * This struct stores all such possible kicks, and we sort it out after the treewalk.*/</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    priv-&gt;kicks = (<span class="keyword">struct</span> <a class="code" href="structStarKick.html">StarKick</a> * ) <a class="code" href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a>(<span class="stringliteral">&quot;StarKicks&quot;</span>, priv-&gt;maxkicks * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structStarKick.html">StarKick</a>));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    priv-&gt;nkicks = 0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a>(priv-&gt;nvisited);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">/* Then run feedback */</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">haswork</a> = NULL;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">ngbiter</a> = (<a class="code" href="treewalk_8h.html#aade20e4cc34b64ecf3bd6f5525465371">TreeWalkNgbIterFunction</a>) <a class="code" href="winds_8c.html#a4cad8a85acff9cb2efbb2759334c8eec">sfr_wind_feedback_ngbiter</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">postprocess</a> = NULL;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">reduce</a> = NULL;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#aa3ff3d4a5a82422609ac154aa4a461ea">ev_label</a> = <span class="stringliteral">&quot;WIND_KICK&quot;</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    tw-&gt;<a class="code" href="structTreeWalk.html#a1d722afccb3091cb1697eaa973936f27">Niteration</a> = 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="treewalk_8c.html#a1e336844d7f92d15cd9248c81ecfb453">treewalk_run</a>(tw, NewStars, NumNewStars);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">/* Sort the possible kicks*/</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="test__exchange_8c.html#ad7d4bd341445fe424000de03798b35e8">qsort_openmp</a>(priv-&gt;kicks, priv-&gt;nkicks, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structStarKick.html">StarKick</a>), <a class="code" href="winds_8c.html#a4eae94bf05bac0062c266409e018cf9a">cmp_by_part_id</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">/* Not parallel as the number of kicked particles should be pretty small*/</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    int64_t last_part = -1;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    int64_t nkicked = 0;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; priv-&gt;nkicks; i++) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="comment">/* Only do the kick for the first particle, which is the closest*/</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">if</span>(priv-&gt;kicks[i].part_index == last_part)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordtype">int</span> other = priv-&gt;kicks[i].part_index;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        last_part = other;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        nkicked++;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="winds_8c.html#a32645fc27561ee8f8aa545e065244350">wind_do_kick</a>(other, priv-&gt;kicks[i].StarKickVelocity, priv-&gt;kicks[i].StarTherm, <a class="code" href="structWindPriv.html#ad7a7aefbebd90464a61ac147f26760d1">Time</a>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span>(priv-&gt;kicks[i].StarKickVelocity &lt;= 0 || !isfinite(priv-&gt;kicks[i].StarKickVelocity) || !isfinite(<a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(other).DelayTime))</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <a class="code" href="endrun_8c.html#ad963d7efdb9f10f7a2298c8ccd222ab0">endrun</a>(5, <span class="stringliteral">&quot;Odd v: other = %d, DT = %g v = %g i = %d, nkicks %d maxkicks %d dist %g id %ld\n&quot;</span>,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                   other, <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(other).DelayTime, priv-&gt;kicks[i].StarKickVelocity, i, priv-&gt;nkicks, priv-&gt;maxkicks,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                   priv-&gt;kicks[i].StarDistance, priv-&gt;kicks[i].StarID);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">/* Get total number of potential new stars to allocate memory.*/</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    int64_t tot_newstars, tot_kicks, tot_applied;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="system_8c.html#a866c4b0425665030c89933c11752b1fe">sumup_large_ints</a>(1, &amp;NumNewStars, &amp;tot_newstars);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    MPI_Allreduce(&amp;priv-&gt;nkicks, &amp;tot_kicks, 1, <a class="code" href="system_8h.html#abb95c0be39c73f8e6b0978a9a374d92b">MPI_INT64</a>, MPI_SUM, MPI_COMM_WORLD);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    MPI_Allreduce(&amp;nkicked, &amp;tot_applied, 1, <a class="code" href="system_8h.html#abb95c0be39c73f8e6b0978a9a374d92b">MPI_INT64</a>, MPI_SUM, MPI_COMM_WORLD);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="endrun_8c.html#a6567cd867c5549fb6586e19ccd819764">message</a>(0, <span class="stringliteral">&quot;Made %ld gas wind, discarded %ld kicks from %d stars\n&quot;</span>, tot_applied, tot_kicks - tot_applied, tot_newstars);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(priv-&gt;kicks);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(priv-&gt;Winddata);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="walltime_8h.html#a2d23071e44d020b4a0b3f2876667d370">walltime_measure</a>(<span class="stringliteral">&quot;/Cooling/Wind&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="ttc" id="amymalloc_8h_html_a3eb707b32b6ac69f2df085e4bc098cc4"><div class="ttname"><a href="mymalloc_8h.html#a3eb707b32b6ac69f2df085e4bc098cc4">mymalloc</a></div><div class="ttdeci">#define mymalloc(name, size)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00015">mymalloc.h:15</a></div></div>
<div class="ttc" id="amymalloc_8h_html_a84e2115e90e9c22e11d9663c019fc8bc"><div class="ttname"><a href="mymalloc_8h.html#a84e2115e90e9c22e11d9663c019fc8bc">ta_free</a></div><div class="ttdeci">#define ta_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00028">mymalloc.h:28</a></div></div>
<div class="ttc" id="amymalloc_8h_html_af469c2f7e504a771f5d8a91ac9623240"><div class="ttname"><a href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a></div><div class="ttdeci">#define myfree(x)</div><div class="ttdef"><b>Definition:</b> <a href="mymalloc_8h_source.html#l00019">mymalloc.h:19</a></div></div>
<div class="ttc" id="aslotsmanager_8h_html_a681d502f5cbf25161ff026312cd1498c"><div class="ttname"><a href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a></div><div class="ttdeci">#define SPHP(i)</div><div class="ttdef"><b>Definition:</b> <a href="slotsmanager_8h_source.html#l00124">slotsmanager.h:124</a></div></div>
<div class="ttc" id="astructStarKick_html"><div class="ttname"><a href="structStarKick.html">StarKick</a></div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00205">winds.c:206</a></div></div>
<div class="ttc" id="astructTreeWalk_html"><div class="ttname"><a href="structTreeWalk.html">TreeWalk</a></div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00084">treewalk.h:84</a></div></div>
<div class="ttc" id="astructTreeWalk_html_a1d722afccb3091cb1697eaa973936f27"><div class="ttname"><a href="structTreeWalk.html#a1d722afccb3091cb1697eaa973936f27">TreeWalk::Niteration</a></div><div class="ttdeci">int64_t Niteration</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00142">treewalk.h:142</a></div></div>
<div class="ttc" id="astructTreeWalk_html_a2f6bc842f407a44d99de52e9b5140454"><div class="ttname"><a href="structTreeWalk.html#a2f6bc842f407a44d99de52e9b5140454">TreeWalk::haswork</a></div><div class="ttdeci">TreeWalkHasWorkFunction haswork</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00100">treewalk.h:100</a></div></div>
<div class="ttc" id="astructTreeWalk_html_a8c4dcda60d680c3d56423fca8647472f"><div class="ttname"><a href="structTreeWalk.html#a8c4dcda60d680c3d56423fca8647472f">TreeWalk::postprocess</a></div><div class="ttdeci">TreeWalkProcessFunction postprocess</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00104">treewalk.h:104</a></div></div>
<div class="ttc" id="astructTreeWalk_html_a96381f9f61cf2c56dac48927cd997ec3"><div class="ttname"><a href="structTreeWalk.html#a96381f9f61cf2c56dac48927cd997ec3">TreeWalk::ngbiter</a></div><div class="ttdeci">TreeWalkNgbIterFunction ngbiter</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00103">treewalk.h:103</a></div></div>
<div class="ttc" id="astructTreeWalk_html_aa08a0586a68d1f4f87e0caa1e59dcc5e"><div class="ttname"><a href="structTreeWalk.html#aa08a0586a68d1f4f87e0caa1e59dcc5e">TreeWalk::reduce</a></div><div class="ttdeci">TreeWalkReduceResultFunction reduce</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00102">treewalk.h:102</a></div></div>
<div class="ttc" id="astructTreeWalk_html_aa3ff3d4a5a82422609ac154aa4a461ea"><div class="ttname"><a href="structTreeWalk.html#aa3ff3d4a5a82422609ac154aa4a461ea">TreeWalk::ev_label</a></div><div class="ttdeci">const char * ev_label</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00091">treewalk.h:91</a></div></div>
<div class="ttc" id="astructWindPriv_html"><div class="ttname"><a href="structWindPriv.html">WindPriv</a></div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00219">winds.c:219</a></div></div>
<div class="ttc" id="astructWindPriv_html_a667f9313ab9c9350ecab38b5c6f0595c"><div class="ttname"><a href="structWindPriv.html#a667f9313ab9c9350ecab38b5c6f0595c">WindPriv::hubble</a></div><div class="ttdeci">double hubble</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00221">winds.c:221</a></div></div>
<div class="ttc" id="astructWindPriv_html_ad7a7aefbebd90464a61ac147f26760d1"><div class="ttname"><a href="structWindPriv.html#ad7a7aefbebd90464a61ac147f26760d1">WindPriv::Time</a></div><div class="ttdeci">double Time</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00220">winds.c:220</a></div></div>
<div class="ttc" id="asystem_8c_html_a866c4b0425665030c89933c11752b1fe"><div class="ttname"><a href="system_8c.html#a866c4b0425665030c89933c11752b1fe">sumup_large_ints</a></div><div class="ttdeci">void sumup_large_ints(int n, int *src, int64_t *res)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00192">system.c:192</a></div></div>
<div class="ttc" id="asystem_8c_html_ade2741449d03e719e2e91a6e511e07a4"><div class="ttname"><a href="system_8c.html#ade2741449d03e719e2e91a6e511e07a4">MPIU_Any</a></div><div class="ttdeci">int MPIU_Any(int condition, MPI_Comm comm)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00545">system.c:545</a></div></div>
<div class="ttc" id="asystem_8h_html_abb95c0be39c73f8e6b0978a9a374d92b"><div class="ttname"><a href="system_8h.html#abb95c0be39c73f8e6b0978a9a374d92b">MPI_INT64</a></div><div class="ttdeci">#define MPI_INT64</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00012">system.h:12</a></div></div>
<div class="ttc" id="atest__exchange_8c_html_ad7d4bd341445fe424000de03798b35e8"><div class="ttname"><a href="test__exchange_8c.html#ad7d4bd341445fe424000de03798b35e8">qsort_openmp</a></div><div class="ttdeci">#define qsort_openmp</div><div class="ttdef"><b>Definition:</b> <a href="test__exchange_8c_source.html#l00014">test_exchange.c:14</a></div></div>
<div class="ttc" id="atreewalk_8c_html_a1e336844d7f92d15cd9248c81ecfb453"><div class="ttname"><a href="treewalk_8c.html#a1e336844d7f92d15cd9248c81ecfb453">treewalk_run</a></div><div class="ttdeci">void treewalk_run(TreeWalk *tw, int *active_set, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8c_source.html#l00619">treewalk.c:619</a></div></div>
<div class="ttc" id="atreewalk_8h_html_aade20e4cc34b64ecf3bd6f5525465371"><div class="ttname"><a href="treewalk_8h.html#aade20e4cc34b64ecf3bd6f5525465371">TreeWalkNgbIterFunction</a></div><div class="ttdeci">void(* TreeWalkNgbIterFunction)(TreeWalkQueryBase *input, TreeWalkResultBase *output, TreeWalkNgbIterBase *iter, LocalTreeWalk *lv)</div><div class="ttdef"><b>Definition:</b> <a href="treewalk_8h_source.html#l00070">treewalk.h:70</a></div></div>
<div class="ttc" id="awalltime_8h_html_a2d23071e44d020b4a0b3f2876667d370"><div class="ttname"><a href="walltime_8h.html#a2d23071e44d020b4a0b3f2876667d370">walltime_measure</a></div><div class="ttdeci">#define walltime_measure(name)</div><div class="ttdef"><b>Definition:</b> <a href="walltime_8h_source.html#l00008">walltime.h:8</a></div></div>
<div class="ttc" id="awinds_8c_html_a32645fc27561ee8f8aa545e065244350"><div class="ttname"><a href="winds_8c.html#a32645fc27561ee8f8aa545e065244350">wind_do_kick</a></div><div class="ttdeci">static void wind_do_kick(int other, double vel, double therm, double atime)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00590">winds.c:590</a></div></div>
<div class="ttc" id="awinds_8c_html_a4cad8a85acff9cb2efbb2759334c8eec"><div class="ttname"><a href="winds_8c.html#a4cad8a85acff9cb2efbb2759334c8eec">sfr_wind_feedback_ngbiter</a></div><div class="ttdeci">static void sfr_wind_feedback_ngbiter(TreeWalkQueryWind *I, TreeWalkResultWind *O, TreeWalkNgbIterWind *iter, LocalTreeWalk *lv)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00650">winds.c:650</a></div></div>
<div class="ttc" id="awinds_8c_html_a4eae94bf05bac0062c266409e018cf9a"><div class="ttname"><a href="winds_8c.html#a4eae94bf05bac0062c266409e018cf9a">cmp_by_part_id</a></div><div class="ttdeci">int cmp_by_part_id(const void *a, const void *b)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00231">winds.c:231</a></div></div>
<div class="ttc" id="awinds_8c_html_ada438f91fe37bf38ff3b49a86ef5528e"><div class="ttname"><a href="winds_8c.html#ada438f91fe37bf38ff3b49a86ef5528e">winds_find_weights</a></div><div class="ttdeci">static void winds_find_weights(TreeWalk *tw, struct WindPriv *priv, int *NewStars, int NumNewStars, const double Time, const double hubble, ForceTree *tree)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00255">winds.c:255</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="winds_8c_source.html#l00231">cmp_by_part_id()</a>, <a class="el" href="endrun_8c_source.html#l00147">endrun()</a>, <a class="el" href="treewalk_8h_source.html#l00091">TreeWalk::ev_label</a>, <a class="el" href="types_8h_source.html#l00022">HAS</a>, <a class="el" href="treewalk_8h_source.html#l00100">TreeWalk::haswork</a>, <a class="el" href="winds_8c_source.html#l00221">WindPriv::hubble</a>, <a class="el" href="winds_8c_source.html#l00223">WindPriv::kicks</a>, <a class="el" href="winds_8c_source.html#l00225">WindPriv::maxkicks</a>, <a class="el" href="endrun_8c_source.html#l00175">message()</a>, <a class="el" href="system_8h_source.html#l00012">MPI_INT64</a>, <a class="el" href="system_8c_source.html#l00545">MPIU_Any()</a>, <a class="el" href="mymalloc_8h_source.html#l00019">myfree</a>, <a class="el" href="mymalloc_8h_source.html#l00015">mymalloc</a>, <a class="el" href="treewalk_8h_source.html#l00103">TreeWalk::ngbiter</a>, <a class="el" href="treewalk_8h_source.html#l00142">TreeWalk::Niteration</a>, <a class="el" href="winds_8c_source.html#l00224">WindPriv::nkicks</a>, <a class="el" href="winds_8c_source.html#l00226">WindPriv::nvisited</a>, <a class="el" href="winds_8c_source.html#l00208">StarKick::part_index</a>, <a class="el" href="treewalk_8h_source.html#l00104">TreeWalk::postprocess</a>, <a class="el" href="test__exchange_8c_source.html#l00014">qsort_openmp</a>, <a class="el" href="treewalk_8h_source.html#l00102">TreeWalk::reduce</a>, <a class="el" href="winds_8c_source.html#l00650">sfr_wind_feedback_ngbiter()</a>, <a class="el" href="slotsmanager_8h_source.html#l00124">SPHP</a>, <a class="el" href="winds_8c_source.html#l00210">StarKick::StarDistance</a>, <a class="el" href="winds_8c_source.html#l00212">StarKick::StarID</a>, <a class="el" href="winds_8c_source.html#l00214">StarKick::StarKickVelocity</a>, <a class="el" href="winds_8c_source.html#l00216">StarKick::StarTherm</a>, <a class="el" href="system_8c_source.html#l00192">sumup_large_ints()</a>, <a class="el" href="mymalloc_8h_source.html#l00028">ta_free</a>, <a class="el" href="winds_8c_source.html#l00220">WindPriv::Time</a>, <a class="el" href="treewalk_8c_source.html#l00619">treewalk_run()</a>, <a class="el" href="walltime_8h_source.html#l00008">walltime_measure</a>, <a class="el" href="winds_8c_source.html#l00590">wind_do_kick()</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <a class="el" href="winds_8h_source.html#l00013">WIND_SUBGRID</a>, <a class="el" href="winds_8c_source.html#l00222">WindPriv::Winddata</a>, <a class="el" href="winds_8c_source.html#l00018">WindParams::WindModel</a>, and <a class="el" href="winds_8c_source.html#l00255">winds_find_weights()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00167">cooling_and_starformation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_addbf19ca865e66f66ff2402b7dde8de6_cgraph.svg" width="1920" height="1438"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_addbf19ca865e66f66ff2402b7dde8de6_icgraph.svg" width="626" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7a6b62046c0e4f5fe9e0a7bb0be65ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6b62046c0e4f5fe9e0a7bb0be65ddc">&#9670;&nbsp;</a></span>winds_are_subgrid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winds_are_subgrid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00115">115</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a>))</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="types_8h_source.html#l00022">HAS</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <a class="el" href="winds_8h_source.html#l00013">WIND_SUBGRID</a>, and <a class="el" href="winds_8c_source.html#l00018">WindParams::WindModel</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00167">cooling_and_starformation()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a7a6b62046c0e4f5fe9e0a7bb0be65ddc_icgraph.svg" width="610" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9ad29a59ac7bdc2a379e5a0f35c148e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad29a59ac7bdc2a379e5a0f35c148e3">&#9670;&nbsp;</a></span>winds_decoupled_hydro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void winds_decoupled_hydro </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>atime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00133">133</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">int</span> k;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">for</span>(k = 0; k &lt; 3; k++)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).HydroAccel[k] = 0;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DtEntropy = 0;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">double</span> windspeed = <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#ac981d7db5d86d4e0543a2ccbb3b8e8dc">WindSpeed</a> * atime;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> fac_mu = pow(atime, 3 * (<a class="code" href="physconst_8h.html#a8659b9de3e544ff142b153b076f30fd5">GAMMA</a> - 1) / 2) / atime;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    windspeed *= fac_mu;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">double</span> hsml_c = cbrt(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a117cf9d273462df5e67d40818abb249f">WindFreeTravelDensThresh</a> /<a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).Density) * atime;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).MaxSignalVel = hsml_c * <a class="code" href="test__interp_8c.html#ac06514a27a2843d8325c1e46ad595b39">DMAX</a>((2 * windspeed), <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).MaxSignalVel);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="ttc" id="aphysconst_8h_html_a8659b9de3e544ff142b153b076f30fd5"><div class="ttname"><a href="physconst_8h.html#a8659b9de3e544ff142b153b076f30fd5">GAMMA</a></div><div class="ttdeci">#define GAMMA</div><div class="ttdef"><b>Definition:</b> <a href="physconst_8h_source.html#l00034">physconst.h:34</a></div></div>
<div class="ttc" id="atest__interp_8c_html_ac06514a27a2843d8325c1e46ad595b39"><div class="ttname"><a href="test__interp_8c.html#ac06514a27a2843d8325c1e46ad595b39">DMAX</a></div><div class="ttdeci">#define DMAX(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="test__interp_8c_source.html#l00011">test_interp.c:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="test__interp_8c_source.html#l00011">DMAX</a>, <a class="el" href="physconst_8h_source.html#l00034">GAMMA</a>, <a class="el" href="slotsmanager_8h_source.html#l00124">SPHP</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <a class="el" href="winds_8c_source.html#l00022">WindParams::WindFreeTravelDensThresh</a>, and <a class="el" href="winds_8c_source.html#l00027">WindParams::WindSpeed</a>.</p>

<p class="reference">Referenced by <a class="el" href="hydra_8c_source.html#l00501">hydro_postprocess()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a9ad29a59ac7bdc2a379e5a0f35c148e3_icgraph.svg" width="722" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4dec995c354a20b6087103ff30928571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dec995c354a20b6087103ff30928571">&#9670;&nbsp;</a></span>winds_ever_decouple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winds_ever_decouple </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00192">192</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a> &gt; 0)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="winds_8c_source.html#l00024">WindParams::MaxWindFreeTravelTime</a>, and <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.</p>

<p class="reference">Referenced by <a class="el" href="winds_8c_source.html#l00590">wind_do_kick()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a4dec995c354a20b6087103ff30928571_icgraph.svg" width="995" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a274ae45443daff42b91d384c64105010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274ae45443daff42b91d384c64105010">&#9670;&nbsp;</a></span>winds_evolve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void winds_evolve </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a3inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hubble</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00403">403</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">/*Remove a wind particle from the delay mode if the (physical) density has dropped sufficiently.*/</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime &gt; 0 &amp;&amp; <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).Density * a3inv &lt; <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a117cf9d273462df5e67d40818abb249f">WindFreeTravelDensThresh</a>) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">/*Reduce the time until the particle can form stars again by the current timestep*/</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime &gt; 0) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="comment">/* Enforce the maximum in case of restarts*/</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime &gt; <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a>)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime = <a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#afc33c1b4016a3240fd3330fe82cf1919">MaxWindFreeTravelTime</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="lightcone_8c.html#a8f3ab427b30a3327076ffcc7c683562c">dloga</a> = <a class="code" href="timebinmgr_8c.html#a716e51b694540af2851fb51c081bcf5d">get_dloga_for_bin</a>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].TimeBin, <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Ti_drift);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="comment">/*  the proper time duration of the step */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> dtime = <a class="code" href="lightcone_8c.html#a8f3ab427b30a3327076ffcc7c683562c">dloga</a> / hubble;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime = <a class="code" href="test__interp_8c.html#ac06514a27a2843d8325c1e46ad595b39">DMAX</a>(<a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime - dtime, 0);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="ttc" id="alightcone_8c_html_a8f3ab427b30a3327076ffcc7c683562c"><div class="ttname"><a href="lightcone_8c.html#a8f3ab427b30a3327076ffcc7c683562c">dloga</a></div><div class="ttdeci">static double dloga</div><div class="ttdef"><b>Definition:</b> <a href="lightcone_8c_source.html#l00021">lightcone.c:21</a></div></div>
<div class="ttc" id="apartmanager_8h_html_a2748566f4c443ee77aa831e63dbb5ebe"><div class="ttname"><a href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a></div><div class="ttdeci">#define P</div><div class="ttdef"><b>Definition:</b> <a href="partmanager_8h_source.html#l00088">partmanager.h:88</a></div></div>
<div class="ttc" id="atimebinmgr_8c_html_a716e51b694540af2851fb51c081bcf5d"><div class="ttname"><a href="timebinmgr_8c.html#a716e51b694540af2851fb51c081bcf5d">get_dloga_for_bin</a></div><div class="ttdeci">double get_dloga_for_bin(int timebin, const inttime_t Ti_Current)</div><div class="ttdef"><b>Definition:</b> <a href="timebinmgr_8c_source.html#l00279">timebinmgr.c:279</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lightcone_8c_source.html#l00021">dloga</a>, <a class="el" href="test__interp_8c_source.html#l00011">DMAX</a>, <a class="el" href="timebinmgr_8c_source.html#l00279">get_dloga_for_bin()</a>, <a class="el" href="winds_8c_source.html#l00221">WindPriv::hubble</a>, <a class="el" href="winds_8c_source.html#l00024">WindParams::MaxWindFreeTravelTime</a>, <a class="el" href="partmanager_8h_source.html#l00088">P</a>, <a class="el" href="slotsmanager_8h_source.html#l00124">SPHP</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, and <a class="el" href="winds_8c_source.html#l00022">WindParams::WindFreeTravelDensThresh</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00167">cooling_and_starformation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a274ae45443daff42b91d384c64105010_cgraph.svg" width="490" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a274ae45443daff42b91d384c64105010_icgraph.svg" width="578" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a70bfb30aee1a43686ccfd216080d84ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70bfb30aee1a43686ccfd216080d84ff">&#9670;&nbsp;</a></span>winds_is_particle_decoupled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winds_is_particle_decoupled </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00124">124</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fad751afdc5a9e135d3f49ee98ba3690f5">WIND_DECOUPLE_SPH</a>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        &amp;&amp; <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Type == 0 &amp;&amp; <a class="code" href="slotsmanager_8h.html#a681d502f5cbf25161ff026312cd1498c">SPHP</a>(i).DelayTime &gt; 0)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="types_8h_source.html#l00022">HAS</a>, <a class="el" href="partmanager_8h_source.html#l00088">P</a>, <a class="el" href="slotsmanager_8h_source.html#l00124">SPHP</a>, <a class="el" href="winds_8h_source.html#l00015">WIND_DECOUPLE_SPH</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, and <a class="el" href="winds_8c_source.html#l00018">WindParams::WindModel</a>.</p>

<p class="reference">Referenced by <a class="el" href="fof_8c_source.html#l00634">add_particle_to_group()</a>, <a class="el" href="blackhole_8c_source.html#l01063">blackhole_accretion_ngbiter()</a>, <a class="el" href="blackhole_8c_source.html#l01278">blackhole_feedback_ngbiter()</a>, <a class="el" href="density_8c_source.html#l00388">density_ngbiter()</a>, <a class="el" href="hydra_8c_source.html#l00305">hydro_ngbiter()</a>, and <a class="el" href="hydra_8c_source.html#l00501">hydro_postprocess()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a70bfb30aee1a43686ccfd216080d84ff_icgraph.svg" width="2478" height="1023"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aaa222abd429c8ee6138143c00a20c234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa222abd429c8ee6138143c00a20c234">&#9670;&nbsp;</a></span>winds_make_after_sf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winds_make_after_sf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vdisp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>atime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00708">708</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a>))</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">/* Get the velocity, thermal energy and efficiency of the kick*/</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordtype">double</span> utherm = 0, vel=0, windeff = 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="winds_8c.html#a7ae527df193f664a9df57f24a7adb7e3">get_wind_params</a>(&amp;vel, &amp;windeff, &amp;utherm, vdisp, atime);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">/* Here comes the Springel Hernquist 03 wind model */</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">/* Notice that this is the mass of the gas particle after forking a star, Mass - Mass/GENERATIONS.*/</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordtype">double</span> pw = windeff * sm / <a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].Mass;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">double</span> prob = 1 - exp(-pw);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="system_8c.html#a14a8799b5e9e58e14107bad2fadc7e06">get_random_number</a>(<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].ID + 2) &lt; prob) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="winds_8c.html#a32645fc27561ee8f8aa545e065244350">wind_do_kick</a>(i, vel, utherm, atime);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="ttc" id="asystem_8c_html_a14a8799b5e9e58e14107bad2fadc7e06"><div class="ttname"><a href="system_8c.html#a14a8799b5e9e58e14107bad2fadc7e06">get_random_number</a></div><div class="ttdeci">double get_random_number(uint64_t id)</div><div class="ttdef"><b>Definition:</b> <a href="system_8c_source.html#l00060">system.c:60</a></div></div>
<div class="ttc" id="awinds_8c_html_a7ae527df193f664a9df57f24a7adb7e3"><div class="ttname"><a href="winds_8c.html#a7ae527df193f664a9df57f24a7adb7e3">get_wind_params</a></div><div class="ttdeci">static void get_wind_params(double *vel, double *windeff, double *utherm, const double vdisp, const double time)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00630">winds.c:630</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="winds_8c_source.html#l00306">winds_subgrid()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_aaa222abd429c8ee6138143c00a20c234_icgraph.svg" width="788" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2cb5d8c3051470cd229593554b0fd1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb5d8c3051470cd229593554b0fd1e8">&#9670;&nbsp;</a></span>winds_subgrid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void winds_subgrid </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>MaybeWind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NumMaybeWind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>hubble</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structForceTree.html">ForceTree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#af1ada7381a1118c6d51bdbb0b5e72811">MyFloat</a> *&#160;</td>
          <td class="paramname"><em>StellarMasses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="winds_8c_source.html#l00306">306</a> of file <a class="el" href="winds_8c_source.html">winds.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">/*The non-subgrid model does nothing here*/</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="types_8h.html#aae268cff368c829e32ef0a52ee731bd6">HAS</a>(<a class="code" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>.<a class="code" href="structWindParams.html#a8a39c99e5adc55800fb1a154f0e7d4f0">WindModel</a>, <a class="code" href="winds_8h.html#a275837498e7e8b8ca0d4f2b8a311065fae274269b8040109ab843f4efd8219e72">WIND_SUBGRID</a>))</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="system_8c.html#ade2741449d03e719e2e91a6e511e07a4">MPIU_Any</a>(NumMaybeWind &gt; 0, MPI_COMM_WORLD))</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="structTreeWalk.html">TreeWalk</a> tw[1] = {{0}};</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keyword">struct </span><a class="code" href="structWindPriv.html">WindPriv</a> priv[1];</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="winds_8c.html#ada438f91fe37bf38ff3b49a86ef5528e">winds_find_weights</a>(tw, priv, MaybeWind, NumMaybeWind, <a class="code" href="structWindPriv.html#ad7a7aefbebd90464a61ac147f26760d1">Time</a>, <a class="code" href="structWindPriv.html#a667f9313ab9c9350ecab38b5c6f0595c">hubble</a>, tree);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(priv-&gt;nvisited);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span>(n = 0; n &lt; NumMaybeWind; n++)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordtype">int</span> i = MaybeWind ? MaybeWind[n] : n;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">/* Notice that StellarMasses is indexed like PI, not i!*/</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="types_8h.html#af1ada7381a1118c6d51bdbb0b5e72811">MyFloat</a> sm = StellarMasses[<a class="code" href="partmanager_8h.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>[i].PI];</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="winds_8c.html#aaa222abd429c8ee6138143c00a20c234">winds_make_after_sf</a>(i, sm, <a class="code" href="winds_8c.html#acd237efdd7bb4633955bb1ca771dd052">WINDP</a>(i, priv-&gt;Winddata).Vdisp, <a class="code" href="structWindPriv.html#ad7a7aefbebd90464a61ac147f26760d1">Time</a>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="mymalloc_8h.html#af469c2f7e504a771f5d8a91ac9623240">myfree</a>(priv-&gt;Winddata);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="walltime_8h.html#a2d23071e44d020b4a0b3f2876667d370">walltime_measure</a>(<span class="stringliteral">&quot;/Cooling/Wind&quot;</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="ttc" id="atypes_8h_html_af1ada7381a1118c6d51bdbb0b5e72811"><div class="ttname"><a href="types_8h.html#af1ada7381a1118c6d51bdbb0b5e72811">MyFloat</a></div><div class="ttdeci">LOW_PRECISION MyFloat</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00019">types.h:19</a></div></div>
<div class="ttc" id="awinds_8c_html_aaa222abd429c8ee6138143c00a20c234"><div class="ttname"><a href="winds_8c.html#aaa222abd429c8ee6138143c00a20c234">winds_make_after_sf</a></div><div class="ttdeci">int winds_make_after_sf(int i, double sm, double vdisp, double atime)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00708">winds.c:708</a></div></div>
<div class="ttc" id="awinds_8c_html_acd237efdd7bb4633955bb1ca771dd052"><div class="ttname"><a href="winds_8c.html#acd237efdd7bb4633955bb1ca771dd052">WINDP</a></div><div class="ttdeci">#define WINDP(i, wind)</div><div class="ttdef"><b>Definition:</b> <a href="winds_8c_source.html#l00251">winds.c:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="types_8h_source.html#l00022">HAS</a>, <a class="el" href="winds_8c_source.html#l00221">WindPriv::hubble</a>, <a class="el" href="system_8c_source.html#l00545">MPIU_Any()</a>, <a class="el" href="mymalloc_8h_source.html#l00019">myfree</a>, <a class="el" href="winds_8c_source.html#l00226">WindPriv::nvisited</a>, <a class="el" href="partmanager_8h_source.html#l00088">P</a>, <a class="el" href="winds_8c_source.html#l00220">WindPriv::Time</a>, <a class="el" href="walltime_8h_source.html#l00008">walltime_measure</a>, <a class="el" href="winds_8c.html#a8a727eb1f91a8add9b78622eee74b155">wind_params</a>, <a class="el" href="winds_8h_source.html#l00013">WIND_SUBGRID</a>, <a class="el" href="winds_8c_source.html#l00222">WindPriv::Winddata</a>, <a class="el" href="winds_8c_source.html#l00018">WindParams::WindModel</a>, <a class="el" href="winds_8c_source.html#l00251">WINDP</a>, <a class="el" href="winds_8c_source.html#l00255">winds_find_weights()</a>, and <a class="el" href="winds_8c_source.html#l00708">winds_make_after_sf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sfr__eff_8c_source.html#l00167">cooling_and_starformation()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a2cb5d8c3051470cd229593554b0fd1e8_cgraph.svg" width="1834" height="1263"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="winds_8h_a2cb5d8c3051470cd229593554b0fd1e8_icgraph.svg" width="582" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
